import"./chunk-H2ZXO6MP.js";import{a as B}from"./chunk-ULV6KZCQ.js";import{a as w}from"./chunk-K6AQFHQZ.js";import{a as k}from"./chunk-XGG2NXRS.js";import{n as j}from"./chunk-UNETXBBP.js";import{a as L}from"./chunk-ONVS2USS.js";import{a as _,g as D}from"./chunk-VAS7ZGTW.js";import{a as C,c as v,g as N}from"./chunk-BS6GGXZ2.js";import"./chunk-AT2Y7737.js";import{A as d,C as a,D as p,E as s,F as T,K as f,L as h,S as u,U as A,W as O,Y as F,b as y,ea as M,g as S,i as m,ia as H,j as x,ja as E,ka as P,x as n,y as I}from"./chunk-R7YALVTQ.js";import{k as b}from"./chunk-6ZVQRB5I.js";import"./chunk-LGOCNUIX.js";var R=(()=>{let e=class e extends N{constructor(){super([]),this.articleMapper=m(D),this.articleService=m(L)}get totalArticlesCards(){return this.articlesCards.length}get articlesCards(){return this.result()}search(i){this.articleMapper.mapTypesFilterArticleToUpperSnakeCase(i);let o=this.articleService.search(i).pipe(y(r=>r.map(g=>this.articleMapper.toArticleCard(g))));this.execute(o)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U(t,e){if(t&1&&(p(0,"span",7),u(1),s()),t&2){let c=h();n(1),A("",c.service.totalArticlesCards," resultados")}}function V(t,e){t&1&&(p(0,"span",7),u(1," Cargando..."),s())}function W(t,e){if(t&1&&T(0,"app-article-card",9),t&2){let c=e.$implicit;a("articleCard",c)}}function $(t,e){if(t&1&&d(0,W,1,1,"app-article-card",8),t&2){let c=h();a("ngForOf",c.service.articlesCards)}}var ve=(()=>{let e=class e{constructor(i){this.cd=i,this.service=m(R),this.getLayout=b,this.categories=v(C),this.states=v(_),this.title="",this.category=C.TextBooksEducationalMaterial,this.state=_.New,this.articlesCards=[]}onSelectedState(i){this.state=i,this.updateArticleCards()}onSelectedCategory(i){this.category=i,this.updateArticleCards()}onTextSearchChanged(i){this.title=i,this.updateArticleCards()}updateArticleCards(){let i={title:this.title,category:this.category,state:this.state};this.service.search(i),this.cd.detectChanges()}};e.\u0275fac=function(o){return new(o||e)(I(M))},e.\u0275cmp=x({type:e,selectors:[["ng-component"]],standalone:!0,features:[F],decls:9,vars:9,consts:[[1,"c-home-page__inputs"],[3,"textChanged"],[3,"options","selectedOption"],[3,"label","options","selectedOption"],["class","o-text-lg-semibold",4,"ngIf"],[1,"o-layout-article-cards"],[3,"ngIf"],[1,"o-text-lg-semibold"],[3,"articleCard",4,"ngFor","ngForOf"],[3,"articleCard"]],template:function(o,r){o&1&&(p(0,"div")(1,"div",0)(2,"app-input",1),f("textChanged",function(l){return r.onTextSearchChanged(l)}),s(),p(3,"app-select",2),f("selectedOption",function(l){return r.onSelectedCategory(l)}),s(),p(4,"app-select",3),f("selectedOption",function(l){return r.onSelectedState(l)}),s()(),d(5,U,2,1,"span",4),p(6,"div",5),d(7,V,2,0,"ng-template",6),d(8,$,1,1,"ng-template",6),s()()),o&2&&(O("c-home-page  ",r.getLayout(),""),n(3),a("options",r.categories),n(1),a("label","Ordenar por estado:")("options",r.states),n(1),a("ngIf",r.service.isCompleted()),n(2),a("ngIf",r.service.isWorking()),n(1),a("ngIf",r.service.isCompleted()))},dependencies:[P,H,E,k,w,B,j],encapsulation:2,changeDetection:0});let t=e;return t})();export{ve as HomePageComponent};
