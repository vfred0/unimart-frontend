import{a as U}from"./chunk-3IRRBAF6.js";import{a as F}from"./chunk-UPLSKKDJ.js";import{a as O,b as K}from"./chunk-EKIMGOTG.js";import{a as q}from"./chunk-WJEN4LOV.js";import"./chunk-7R32OGNN.js";import{a as G,c as J}from"./chunk-KPZI3ZUY.js";import{e as A,g as z}from"./chunk-AX6TRO2V.js";import{e as w,f as I,p as Q}from"./chunk-VHXRVX5I.js";import{Ea as $,Fa as C,Ga as k,Ha as x,Na as y,O as f,Qa as H,S as R,Sa as L,T as D,gb as N,hb as j,ib as h,ja as l,la as P,ma as M,na as g,oa as V,pa as n,pb as S,qa as a,qb as T,ra as p,rb as v,sa as u,va as B,xa as s,ya as b}from"./chunk-55WKZPUC.js";import"./chunk-OC64LIZX.js";var _=(()=>(_=_||{},_.Published="Publicados",_.Proposed="Propuestos",_))();var m=(()=>(m=m||{},m.High="Mayor",m.Low="Menor",m))();var X=(()=>{let t=class{constructor(){this.TypeButton=T,this.Icon=S,this.viewRatingCard={},this.headerDetail=w.headerDetail}},i=t;return(()=>{t.\u0275fac=function(o){return new(o||t)}})(),(()=>{t.\u0275cmp=f({type:t,selectors:[["app-view-rating-card"]],inputs:{viewRatingCard:"viewRatingCard"},standalone:!0,features:[y],decls:6,vars:6,consts:[[1,"c-view-rating-card"],[1,"c-view-rating-card__header-rating"],[3,"headerDetail","withDescription"],[3,"description","icon","typeButton"],[1,"o-text-base-normal"]],template:function(o,e){o&1&&(a(0,"div",0)(1,"div",1),u(2,"app-header-detail",2)(3,"app-button",3),p(),a(4,"span",4),C(5),p()()),o&2&&(l(2),n("headerDetail",e.headerDetail)("withDescription",!0),l(1),n("description",e.viewRatingCard.rating.toString())("icon",e.Icon.Star)("typeButton",e.TypeButton.Secondary),l(2),k(e.viewRatingCard.comment))},dependencies:[h,v,z],encapsulation:2})})(),i})();var Y=(()=>{let t=class extends F{constructor(r){super(r),this.router=r,this.deleteArticle=new H}onShowProposals(){this.router.navigate([`${I.ProfileProposedArticles}/${this.articleCard.id}`]).then()}onEditArticle(){this.router.navigate([`${I.EditArticle}/${this.articleCard.id}`]).then()}onDeleteArticle(){this.deleteArticle.emit(this.articleCard.id)}},i=t;return(()=>{t.\u0275fac=function(o){return new(o||t)(P(A))}})(),(()=>{t.\u0275cmp=f({type:t,selectors:[["app-published-article-card"]],outputs:{deleteArticle:"deleteArticle"},standalone:!0,features:[M,y],decls:6,vars:10,consts:[[3,"articleCard","typeArticleCard"],[1,"c-article-card__buttons"],[1,"c-article-card__button",3,"description","typeButton","click"],[1,"c-article-card__buttons-row"],[1,"c-article-card__button",3,"description","icon","typeButton","click"]],template:function(o,e){o&1&&(a(0,"app-article-card",0)(1,"div",1)(2,"app-button",2),s("click",function(){return e.onShowProposals()}),p(),a(3,"div",3)(4,"app-button",4),s("click",function(){return e.onEditArticle()}),p(),a(5,"app-button",4),s("click",function(){return e.onDeleteArticle()}),p()()()()),o&2&&(n("articleCard",e.articleCard)("typeArticleCard",e.TypeArticleCard.Proposed),l(2),n("description",e.getProposalsQuantity())("typeButton",e.TypeButton.Primary),l(2),n("description","Editar")("icon",e.Icon.Edit)("typeButton",e.TypeButton.Secondary),l(1),n("description","Eliminar")("icon",e.Icon.Delete)("typeButton",e.TypeButton.Secondary))},dependencies:[h,v,F],encapsulation:2})})(),i})();function ee(i,t){if(i&1){let c=B();a(0,"app-published-article-card",19),s("deleteArticle",function(){let e=R(c).$implicit,d=b(2);return D(d.onDeleteArticle(e.id))}),p()}if(i&2){let c=t.$implicit;n("articleCard",c)}}function te(i,t){if(i&1&&g(0,ee,1,1,"app-published-article-card",18),i&2){let c=b();n("ngForOf",c.articleCards)}}function ie(i,t){if(i&1){let c=B();a(0,"app-proposed-article-card",21),s("deleteProposed",function(){let e=R(c).$implicit,d=b(2);return D(d.onDeleteProposed(e.id))}),p()}if(i&2){let c=t.$implicit;n("onlyViewPublication",!0)("articleCard",c)}}function re(i,t){if(i&1&&g(0,ie,1,2,"app-proposed-article-card",20),i&2){let c=b();n("ngForOf",c.articleCards)}}function oe(i,t){if(i&1&&u(0,"app-view-rating-card",22),i&2){let c=t.$implicit;n("viewRatingCard",c)}}var qe=(()=>{let t=class{constructor(r){this.router=r,this.TypeButton=T,this.Icon=S,this.getLayout=Q,this.typeArticles=O(_),this.articleCards=w.articleCards,this.typeArticleCard=G.Normal,this.filterRatings=O(m),this.viewRatingCards=w.viewRatingCards}get averageRating(){return(this.viewRatingCards.reduce((r,o)=>r+o.rating,0)/this.viewRatingCards.length).toString()}get isPublished(){return J(this.typeArticleCard)}onSelectedTypeArticle(r){this.typeArticleCard=r}onSelectedRating(r){r===m.High&&this.viewRatingCards.sort((o,e)=>e.rating-o.rating),r===m.Low&&this.viewRatingCards.sort((o,e)=>o.rating-e.rating)}onDeleteArticle(r){console.log(`Eliminar art\xEDculo ${r}`)}onDeleteProposed(r){console.log(`Eliminar propuesta ${r}`)}},i=t;return(()=>{t.\u0275fac=function(o){return new(o||t)(P(A))}})(),(()=>{t.\u0275cmp=f({type:t,selectors:[["ng-component"]],standalone:!0,features:[y],decls:25,vars:16,consts:[[1,"c-tabs"],["checked","","id","tab1","name","tabs","type","radio",1,"c-tabs__radio"],["for","tab1",1,"c-tabs__label"],[1,"c-tabs__wrapper-content"],[1,"c-tabs__content"],[1,"o-layout-width-100",3,"icon","placeholder"],[1,"o-layout-width-100",3,"options","label","selectedOption"],[1,"o-layout-article-cards"],[3,"ngIfElse","ngIf"],["proposedTemplate",""],["id","tab2","name","tabs","type","radio",1,"c-tabs__radio"],["for","tab2",1,"c-tabs__label"],[1,"o-layout-width-100",3,"label","options","selectedOption"],[1,"c-tabs__content-row","o-layout-width-100"],[1,"o-text-lg-semibold","o-layout-width-100"],[3,"description","icon","typeButton"],[1,"o-layout-view-rating-cards"],[3,"viewRatingCard",4,"ngFor","ngForOf"],[3,"articleCard","deleteArticle",4,"ngFor","ngForOf"],[3,"articleCard","deleteArticle"],[3,"onlyViewPublication","articleCard","deleteProposed",4,"ngFor","ngForOf"],[3,"onlyViewPublication","articleCard","deleteProposed"],[3,"viewRatingCard"]],template:function(o,e){if(o&1&&(a(0,"div")(1,"div",0),u(2,"input",1),a(3,"label",2),C(4,"Publicaciones"),p(),a(5,"div",3)(6,"div",4),u(7,"app-input",5),a(8,"app-select",6),s("selectedOption",function(E){return e.onSelectedTypeArticle(E)}),p(),a(9,"div",7),g(10,te,1,1,"ng-template",8),g(11,re,1,1,"ng-template",null,9,L),p()()(),u(13,"input",10),a(14,"label",11),C(15,"Calificaciones"),p(),a(16,"div",3)(17,"div",4)(18,"app-select",12),s("selectedOption",function(E){return e.onSelectedRating(E)}),p(),a(19,"div",13)(20,"span",14),C(21),p(),u(22,"app-button",15),p(),a(23,"div",16),g(24,oe,1,1,"app-view-rating-card",17),p()()()()()),o&2){let d=V(12);$(e.getLayout()),l(7),n("icon",e.Icon.Search)("placeholder","Nombre del art\xEDculo"),l(1),n("options",e.typeArticles)("label","Art\xEDculos:"),l(2),n("ngIfElse",d)("ngIf",e.isPublished),l(8),n("label","Ordenar por:")("options",e.filterRatings),l(3),x("",e.viewRatingCards.length," resultados "),l(1),n("description",e.averageRating)("icon",e.Icon.Star)("typeButton",e.TypeButton.Secondary),l(2),n("ngForOf",e.viewRatingCards)}},dependencies:[h,N,j,q,K,X,v,Y,U],encapsulation:2})})(),i})();export{qe as ProfilePageComponent};
