import{a as U}from"./chunk-7MY4I2SQ.js";import{a as F}from"./chunk-7V2VRZWJ.js";import{a as O,b as K}from"./chunk-EKIMGOTG.js";import{a as q}from"./chunk-YHNCOX5Y.js";import"./chunk-7R32OGNN.js";import{a as G,c as J}from"./chunk-KPZI3ZUY.js";import{e as S,g as z}from"./chunk-O7TNYOB3.js";import{e as v,f as I,p as Q}from"./chunk-VHXRVX5I.js";import{Ea as V,Fa as g,Ga as $,Ha as k,Na as h,O as f,Qa as L,S as R,Sa as H,T as D,gb as N,hb as j,ib as y,ja as p,la as A,ma as x,na as C,oa as M,pa as o,pb as T,qa as a,qb as E,ra as l,rb as b,sa as u,va as B,xa as s,ya as P}from"./chunk-55WKZPUC.js";import"./chunk-OC64LIZX.js";var _=(()=>(_=_||{},_.Published="Publicados",_.Proposed="Propuestos",_))();var m=(()=>(m=m||{},m.High="Mayor",m.Low="Menor",m))();var X=(()=>{let t=class{constructor(){this.TypeButton=E,this.Icon=T,this.viewRatingCard={},this.headerDetail=v.headerDetail}},i=t;return(()=>{t.\u0275fac=function(n){return new(n||t)}})(),(()=>{t.\u0275cmp=f({type:t,selectors:[["app-view-rating-card"]],inputs:{viewRatingCard:"viewRatingCard"},standalone:!0,features:[h],decls:6,vars:6,consts:[[1,"c-view-rating-card"],[1,"c-view-rating-card__header-rating"],[3,"headerDetail","withDescription"],[3,"description","icon","typeButton"],[1,"o-text-base-normal"]],template:function(n,e){n&1&&(a(0,"div",0)(1,"div",1),u(2,"app-header-detail",2)(3,"app-button",3),l(),a(4,"span",4),g(5),l()()),n&2&&(p(2),o("headerDetail",e.headerDetail)("withDescription",!0),p(1),o("description",e.viewRatingCard.rating.toString())("icon",e.Icon.Star)("typeButton",e.TypeButton.Secondary),p(2),$(e.viewRatingCard.comment))},dependencies:[y,b,z],encapsulation:2})})(),i})();var Y=(()=>{let t=class extends F{constructor(r){super(r),this.router=r,this.deleteArticle=new L}onShowProposals(){this.router.navigate([`${I.ProfileProposedArticles}/${this.articleCard.id}`]).then()}onEditArticle(){this.router.navigate([`${I.EditArticle}/${this.articleCard.id}`]).then()}onDeleteArticle(){this.deleteArticle.emit(this.articleCard.id)}},i=t;return(()=>{t.\u0275fac=function(n){return new(n||t)(A(S))}})(),(()=>{t.\u0275cmp=f({type:t,selectors:[["app-published-article-card"]],outputs:{deleteArticle:"deleteArticle"},standalone:!0,features:[x,h],decls:6,vars:10,consts:[[3,"articleCard","typeArticleCard"],[1,"c-article-card__buttons"],[1,"c-article-card__button",3,"description","typeButton","click"],[1,"c-article-card__buttons-row"],[1,"c-article-card__button",3,"description","icon","typeButton","click"]],template:function(n,e){n&1&&(a(0,"app-article-card",0)(1,"div",1)(2,"app-button",2),s("click",function(){return e.onShowProposals()}),l(),a(3,"div",3)(4,"app-button",4),s("click",function(){return e.onEditArticle()}),l(),a(5,"app-button",4),s("click",function(){return e.onDeleteArticle()}),l()()()()),n&2&&(o("articleCard",e.articleCard)("typeArticleCard",e.TypeArticleCard.Proposed),p(2),o("description",e.getProposalsQuantity())("typeButton",e.TypeButton.Primary),p(2),o("description","Editar")("icon",e.Icon.Edit)("typeButton",e.TypeButton.Secondary),p(1),o("description","Eliminar")("icon",e.Icon.Delete)("typeButton",e.TypeButton.Secondary))},dependencies:[y,b,F],encapsulation:2})})(),i})();function ee(i,t){if(i&1){let c=B();a(0,"app-published-article-card",19),s("deleteArticle",function(){let e=R(c).$implicit,d=P(2);return D(d.onDeleteArticle(e.id))}),l()}if(i&2){let c=t.$implicit;o("articleCard",c)}}function te(i,t){if(i&1&&C(0,ee,1,1,"app-published-article-card",18),i&2){let c=P();o("ngForOf",c.articleCards)}}function ie(i,t){if(i&1){let c=B();a(0,"app-proposed-article-card",21),s("deleteProposed",function(){let e=R(c).$implicit,d=P(2);return D(d.onDeleteProposed(e.id))}),l()}if(i&2){let c=t.$implicit;o("onlyViewPublication",!0)("articleCard",c)}}function re(i,t){if(i&1&&C(0,ie,1,2,"app-proposed-article-card",20),i&2){let c=P();o("ngForOf",c.articleCards)}}function ne(i,t){if(i&1&&u(0,"app-view-rating-card",22),i&2){let c=t.$implicit;o("viewRatingCard",c)}}var qe=(()=>{let t=class{constructor(r){this.router=r,this.TypeButton=E,this.Icon=T,this.getLayout=Q,this.typeArticles=O(_),this.articleCards=v.articleCards,this.typeArticleCard=G.Normal,this.filterRatings=O(m),this.viewRatingCards=v.viewRatingCards}get averageRating(){return(this.viewRatingCards.reduce((r,n)=>r+n.rating,0)/this.viewRatingCards.length).toString()}onTextSearchChanged(r){this.articleCards=v.articleCards.filter(n=>n.title.toLowerCase().includes(r.toLowerCase()))}get isPublished(){return J(this.typeArticleCard)}onSelectedTypeArticle(r){this.typeArticleCard=r}onSelectedRating(r){r===m.High&&this.viewRatingCards.sort((n,e)=>e.rating-n.rating),r===m.Low&&this.viewRatingCards.sort((n,e)=>n.rating-e.rating)}onDeleteArticle(r){console.log(`Eliminar art\xEDculo ${r}`)}onDeleteProposed(r){console.log(`Eliminar propuesta ${r}`)}},i=t;return(()=>{t.\u0275fac=function(n){return new(n||t)(A(S))}})(),(()=>{t.\u0275cmp=f({type:t,selectors:[["ng-component"]],standalone:!0,features:[h],decls:25,vars:16,consts:[[1,"c-tabs"],["checked","","id","tab1","name","tabs","type","radio",1,"c-tabs__radio"],["for","tab1",1,"c-tabs__label"],[1,"c-tabs__wrapper-content"],[1,"c-tabs__content"],[1,"o-layout-width-100",3,"icon","placeholder","textChanged"],[1,"o-layout-width-100",3,"options","label","selectedOption"],[1,"o-layout-article-cards"],[3,"ngIfElse","ngIf"],["proposedTemplate",""],["id","tab2","name","tabs","type","radio",1,"c-tabs__radio"],["for","tab2",1,"c-tabs__label"],[1,"o-layout-width-100",3,"label","options","selectedOption"],[1,"c-tabs__content-row","o-layout-width-100"],[1,"o-text-lg-semibold","o-layout-width-100"],[3,"description","icon","typeButton"],[1,"o-layout-view-rating-cards"],[3,"viewRatingCard",4,"ngFor","ngForOf"],[3,"articleCard","deleteArticle",4,"ngFor","ngForOf"],[3,"articleCard","deleteArticle"],[3,"onlyViewPublication","articleCard","deleteProposed",4,"ngFor","ngForOf"],[3,"onlyViewPublication","articleCard","deleteProposed"],[3,"viewRatingCard"]],template:function(n,e){if(n&1&&(a(0,"div")(1,"div",0),u(2,"input",1),a(3,"label",2),g(4,"Publicaciones"),l(),a(5,"div",3)(6,"div",4)(7,"app-input",5),s("textChanged",function(w){return e.onTextSearchChanged(w)}),l(),a(8,"app-select",6),s("selectedOption",function(w){return e.onSelectedTypeArticle(w)}),l(),a(9,"div",7),C(10,te,1,1,"ng-template",8),C(11,re,1,1,"ng-template",null,9,H),l()()(),u(13,"input",10),a(14,"label",11),g(15,"Calificaciones"),l(),a(16,"div",3)(17,"div",4)(18,"app-select",12),s("selectedOption",function(w){return e.onSelectedRating(w)}),l(),a(19,"div",13)(20,"span",14),g(21),l(),u(22,"app-button",15),l(),a(23,"div",16),C(24,ne,1,1,"app-view-rating-card",17),l()()()()()),n&2){let d=M(12);V(e.getLayout()),p(7),o("icon",e.Icon.Search)("placeholder","Nombre del art\xEDculo"),p(1),o("options",e.typeArticles)("label","Art\xEDculos:"),p(2),o("ngIfElse",d)("ngIf",e.isPublished),p(8),o("label","Ordenar por:")("options",e.filterRatings),p(3),k("",e.viewRatingCards.length," resultados "),p(1),o("description",e.averageRating)("icon",e.Icon.Star)("typeButton",e.TypeButton.Secondary),p(2),o("ngForOf",e.viewRatingCards)}},dependencies:[y,N,j,q,K,X,b,Y,U],encapsulation:2})})(),i})();export{qe as ProfilePageComponent};
