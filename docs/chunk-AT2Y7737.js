import{$ as W,A as h,C as a,D as p,E as c,I as _,K as d,L as l,O as v,Q as E,S as y,T as I,X as S,Y as P,_ as H,g as B,ga as b,ha as V,j as g,ja as C,ka as w,oa as F,p as m,q as f,ra as A,s as T,ua as $,wa as q,x as s,xa as G,y as u,ya as J,za as K}from"./chunk-R7YALVTQ.js";import{a as x,b as j,e as M,f as R,g as L,h as N,i as O,j as U,l as z}from"./chunk-6ZVQRB5I.js";function Z(e,t){if(e&1&&(p(0,"span",5),y(1),c()),e&2){let i=l();s(1),I(i.headerDetail.description)}}var X=(()=>{let t=class t{constructor(){this.headerDetail={},this.clickedPhoto=new W,this.withDescription=!1,this.withClickedPhoto=!1}onClickedPhoto(){this.withClickedPhoto&&this.clickedPhoto.emit()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=g({type:t,selectors:[["app-header-detail"]],inputs:{headerDetail:"headerDetail",withDescription:"withDescription",withClickedPhoto:"withClickedPhoto"},outputs:{clickedPhoto:"clickedPhoto"},standalone:!0,features:[P],decls:6,vars:6,consts:[[1,"c-header-detail"],[1,"c-header-detail__photo",3,"alt","src","click"],[1,"c-header-detail__title-description","o-text-ellipsis"],[1,"o-text-lg-bold","o-text-ellipsis"],[3,"ngIf"],[1,"o-text-sm-light","o-text-ellipsis"]],template:function(o,n){o&1&&(p(0,"div",0)(1,"img",1),d("click",function(){return n.onClickedPhoto()}),c(),p(2,"div",2)(3,"span",3),y(4),c(),h(5,Z,2,1,"ng-template",4),c()()),o&2&&(E("is-with-clicked-photo",n.withClickedPhoto),s(1),v("alt",n.headerDetail.title),v("src",n.headerDetail.photo,T),s(3),I(n.headerDetail.title),s(1),a("ngIf",n.withDescription))},dependencies:[w,C],encapsulation:2});let e=t;return e})();var k=(()=>{let t=class t{toHeaderDetails(r){return{title:r.name,description:r.about,photo:r.photo}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function te(e,t){if(e&1){let i=_();p(0,"app-button",3),d("click",function(){m(i);let o=l(2);return f(o.redirectToBack())}),c()}if(e&2){let i=l(2);a("description","Volver")("typeButton",i.TypeButton.Back)}}var ie=function(e,t){return{"c-header--is-for-article-page":e,"c-header--is-with-preferences":t}};function oe(e,t){if(e&1){let i=_();p(0,"div",1)(1,"app-header-detail",2),d("clickedPhoto",function(){m(i);let o=l();return f(o.togglePreferences())}),c(),h(2,te,1,2,"ng-template",0),c()}if(e&2){let i=l();a("ngClass",H(5,ie,i.isForArticlePage,i.isWithPreferences)),s(1),a("headerDetail",i.headerDetail)("withClickedPhoto",i.isWithPreferences)("withDescription",!1),s(1),a("ngIf",i.isWithBack)}}function re(e,t){if(e&1){let i=_();p(0,"app-button",5),d("click",function(){m(i);let o=l(2);return f(o.navigateToEditProfile())}),c()}if(e&2){let i=l(2);a("description","Editar perfil")("icon",i.Icon.Edit)("typeButton",i.TypeButton.Secondary)}}function ne(e,t){if(e&1){let i=_();p(0,"div",4),h(1,re,1,3,"ng-template",0),p(2,"app-button",5),d("click",function(){m(i);let o=l();return f(o.onLogout())}),c()()}if(e&2){let i=l();s(1),a("ngIf",i.isWithButtonEditProfile),s(1),a("description","Cerrar sesi\xF3n")("icon",i.Icon.Logout)("typeButton",i.TypeButton.Secondary)}}var ye=(()=>{let t=class t{constructor(r,o,n,D){this.router=r,this.location=o,this.authService=n,this.userMapperService=D,this.TypeButton=J,this.Icon=G,this.showPreferences=!1,this.showHeader=!1,this.isWithPreferences=!1,this.isWithButtonEditProfile=!1,this.isWithBack=!1,this.isForArticlePage=!1,this.headerDetail={}}ngOnInit(){this.router.events.subscribe(r=>{if(r instanceof F){let o=r.url;j(o),this.showHeader=N(),this.showHeader&&(this.isWithPreferences=R(),this.isWithButtonEditProfile=L(),this.isWithBack=M(),this.headerDetail=this.userMapperService.toHeaderDetails(this.authService.user),z()||(this.headerDetail.title=O()),this.isForArticlePage=U())}})}togglePreferences(){this.isWithPreferences&&(this.showPreferences=!this.showPreferences)}redirectToBack(){this.location.back()}navigateToEditProfile(){this.router.navigate([`${x.Profile}/${x.EditProfile}`]).then(),this.togglePreferences()}onLogout(){this.authService.logout(),this.router.navigate([x.AuthLogin]).then(),this.togglePreferences()}};t.\u0275fac=function(o){return new(o||t)(u(A),u(b),u($),u(k))},t.\u0275cmp=g({type:t,selectors:[["app-header"]],inputs:{isWithPreferences:"isWithPreferences"},standalone:!0,features:[S([k]),P],decls:2,vars:2,consts:[[3,"ngIf"],[1,"c-header","o-layout-max-width",3,"ngClass"],[3,"headerDetail","withClickedPhoto","withDescription","clickedPhoto"],[3,"description","typeButton","click"],[1,"c-header__preferences"],[3,"description","icon","typeButton","click"]],template:function(o,n){o&1&&(h(0,oe,3,8,"ng-template",0),h(1,ne,3,4,"ng-template",0)),o&2&&(a("ngIf",n.showHeader),s(1),a("ngIf",n.isWithPreferences&&n.showPreferences))},dependencies:[w,V,C,q,K,X],encapsulation:2});let e=t;return e})();export{X as a,k as b,ye as c};
