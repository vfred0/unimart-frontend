import{a as H}from"./chunk-U737FJNI.js";import{a as L,b as M}from"./chunk-HHOM7CRW.js";import{a as I}from"./chunk-ULV6KZCQ.js";import{a as N}from"./chunk-K6AQFHQZ.js";import{a as j}from"./chunk-XGG2NXRS.js";import"./chunk-UNETXBBP.js";import"./chunk-ONVS2USS.js";import{e as W}from"./chunk-VAS7ZGTW.js";import"./chunk-BS6GGXZ2.js";import"./chunk-AT2Y7737.js";import{$ as B,A as m,C as a,D as c,E as l,I as h,K as u,L as p,R as w,S as v,U as E,Y as y,g as T,i as g,ia as V,j as A,ja as k,ka as S,p as _,pa as F,q as f,ra as d,x as s,xa as R,y as C,ya as D,z as b,za as P}from"./chunk-R7YALVTQ.js";import{a as x,k as O}from"./chunk-6ZVQRB5I.js";import"./chunk-LGOCNUIX.js";var q=(()=>{let i=class i extends I{constructor(t){super(t),this.router=t,this.suggestArticle=new B}onSuggestArticle(t){this.suggestArticle.emit(t)}};i.\u0275fac=function(n){return new(n||i)(C(d))},i.\u0275cmp=A({type:i,selectors:[["app-suggest-article-card"]],outputs:{suggestArticle:"suggestArticle"},standalone:!0,features:[b,y],decls:2,vars:4,consts:[[3,"articleCard","typeArticleCard"],[1,"c-article-card__button",3,"description","typeButton","click"]],template:function(n,o){n&1&&(c(0,"app-article-card",0)(1,"app-button",1),u("click",function(){return o.onSuggestArticle(o.articleCard.id)}),l()()),n&2&&(a("articleCard",o.articleCard)("typeArticleCard",o.TypeArticleCard.Suggest),s(1),a("description","Proponer art\xEDculo")("typeButton",o.TypeButton.Primary))},dependencies:[S,P,I],encapsulation:2});let e=i;return e})();var z=(()=>{let i=class i{constructor(){this.profileService=g(H),this.proposedArticleService=g(L),this.articleCardService=g(M),this.router=g(d),this.category={},this.title=""}get containsPublishedArticles(){return this.profileService.containsPublishedArticles}get totalArticlesCards(){return this.articlesCards.length}get articlesCards(){return this.articleCardService.filterByTitleAndCategory(this.title,this.category).filter(t=>!W(t.typeArticle))}get categories(){return this.articleCardService.filterCategoriesNotProposed()}get isCompleted(){let t=this.profileService.isCompleted();return t&&this.articleCardService.setArticlesCards(this.profileService.articlesCards),t}get isWorking(){return this.profileService.isWorking()}allArticles(){this.profileService.allArticles()}filterByTitle(t){this.title=t}filterByCategory(t){this.category=t}proposedArticle(t){this.proposedArticleService.save(t).subscribe(()=>{this.router.navigate([x.Profile]).then()})}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function J(e,i){e&1&&(c(0,"span",1),v(1," Cargando..."),l())}function K(e,i){if(e&1){let r=h();c(0,"span",1),v(1," No hay art\xEDculos publicados "),l(),c(2,"app-button",2),u("click",function(){_(r);let n=p();return f(n.onPublishArticle())}),l()}if(e&2){let r=p();s(2),a("description","Publicar art\xEDculo")("icon",r.Icon.Publication)("typeButton",r.TypeButton.Primary)}}function Q(e,i){if(e&1){let r=h();c(0,"app-select",7),u("selectedOption",function(n){_(r);let o=p(2);return f(o.onSelectedCategory(n))}),l()}if(e&2){let r=p(2);a("options",r.service.categories)}}function U(e,i){e&1&&(c(0,"span",1),v(1," Cargando..."),l())}function X(e,i){if(e&1&&(c(0,"span",8),v(1),l()),e&2){let r=p(2);s(1),E("",r.service.totalArticlesCards," resultados ")}}function Y(e,i){if(e&1){let r=h();c(0,"app-suggest-article-card",11),u("suggestArticle",function(n){_(r);let o=p(3);return f(o.onSuggestArticle(n))}),l()}if(e&2){let r=i.$implicit;a("articleCard",r)}}function Z(e,i){if(e&1&&(c(0,"div",9),m(1,Y,1,1,"app-suggest-article-card",10),l()),e&2){let r=p(2);s(1),a("ngForOf",r.service.articlesCards)}}function ee(e,i){if(e&1){let r=h();c(0,"app-input",3),u("textChanged",function(n){_(r);let o=p();return f(o.onTitleSearchChanged(n))}),l(),m(1,Q,1,1,"app-select",4),m(2,U,2,0,"ng-template",0),m(3,X,2,1,"span",5),m(4,Z,2,1,"div",6)}if(e&2){let r=p();s(1),a("ngIf",r.service.isCompleted),s(1),a("ngIf",r.service.isWorking),s(1),a("ngIf",r.service.isCompleted),s(1),a("ngIf",r.service.isCompleted)}}var Re=(()=>{let i=class i{constructor(t,n){this.activateRoute=t,this.router=n,this.getLayout=O,this.TypeButton=D,this.Icon=R,this.service=g(z),this.title="",this.service.allArticles()}onTitleSearchChanged(t){this.service.filterByTitle(t)}onSelectedCategory(t){this.service.filterByCategory(t)}onSuggestArticle(t){let n={receiverArticleId:this.activateRoute.snapshot.params.id,proposerArticleId:t};this.service.proposedArticle(n)}onPublishArticle(){this.router.navigate([x.PublishArticle]).then()}};i.\u0275fac=function(n){return new(n||i)(C(F),C(d))},i.\u0275cmp=A({type:i,selectors:[["ng-component"]],standalone:!0,features:[y],decls:4,vars:6,consts:[[3,"ngIf"],[1,"o-text-lg-semibold"],[3,"description","icon","typeButton","click"],[3,"textChanged"],[3,"options","selectedOption",4,"ngIf"],["class","o-text-lg-semibold o-layout-width-100 ",4,"ngIf"],["class","o-layout-article-cards",4,"ngIf"],[3,"options","selectedOption"],[1,"o-text-lg-semibold","o-layout-width-100"],[1,"o-layout-article-cards"],[3,"articleCard","suggestArticle",4,"ngFor","ngForOf"],[3,"articleCard","suggestArticle"]],template:function(n,o){n&1&&(c(0,"div"),m(1,J,2,0,"ng-template",0),m(2,K,3,3,"ng-template",0),m(3,ee,5,4,"ng-template",0),l()),n&2&&(w(o.getLayout()),s(1),a("ngIf",o.service.isWorking),s(1),a("ngIf",o.service.isCompleted&&!o.service.containsPublishedArticles),s(1),a("ngIf",o.service.containsPublishedArticles))},dependencies:[S,V,k,N,j,q,P],encapsulation:2,changeDetection:0});let e=i;return e})();export{Re as SuggestArticlePageComponent};
